# Badge-Label-Base Component Schema
#
# Stemma System: Badge Family
# Component Type: Type Primitive (Label)
# Naming Convention: [Family]-[Type]-[Variant] = Badge-Label-Base
#
# This schema defines the behavioral contracts and properties for the
# Badge-Label-Base component, which serves as the type primitive
# for all label badge components in the Badge family.
#
# Rationale: Badge-Label-Base is a type primitive that provides label badge
# functionality for displaying categorization, status, or metadata text.
# It is read-only and non-interactive, designed for compact inline use.
# Semantic variants (if needed) will inherit from this base.

name: Badge-Label-Base
type: type-primitive
family: Badge
version: "1.0.0"
readiness: production-ready

# Component description
description: |
  Type primitive label badge component for displaying categorization, status,
  or metadata text in a compact visual indicator.
  
  Key Characteristics:
  - Read-only: Display-only, no click/tap behavior
  - Non-interactive: Not focusable, not in tab order
  - Compact: Small footprint, designed for inline use
  - Informational: Conveys status or metadata at a glance
  
  Badge-Label-Base supports three size variants (sm, md, lg), optional leading
  icons via Icon-Base integration, and text truncation with accessibility
  support for full text access.

# Reusable behaviors this component implements
behaviors:
  - renderable
  - sizable
  - accessible-decorative
  - truncatable

# Component properties (public API)
properties:
  label:
    type: string
    required: true
    description: |
      Badge text content (required). The label text to display inside the badge.
      When truncate is enabled, full text remains accessible via title attribute
      (web) or accessibility label (native platforms).
  
  size:
    type: "'sm' | 'md' | 'lg'"
    required: false
    default: "'md'"
    description: |
      Size variant determining typography, spacing, and icon size tokens.
      - sm: typography.labelXs, space.inset.none (v), space.inset.050 (h), icon.size050
      - md: typography.labelSm, space.inset.050 (v), space.inset.100 (h), icon.size075 [DEFAULT]
      - lg: typography.labelMd, space.inset.100 (v), space.inset.150 (h), icon.size100
  
  icon:
    type: IconBaseName
    required: false
    default: undefined
    description: |
      Optional leading icon name. When provided, renders an icon before the
      label text using Icon-Base component. Icon size is automatically
      determined by badge size. Icon is marked as decorative (aria-hidden="true"
      on web, accessibilityHidden on iOS, contentDescription=null on Android).
  
  truncate:
    type: boolean
    required: false
    default: false
    description: |
      Enable truncation at component-defined max-width (badge.label.maxWidth = 120px).
      When true, text is truncated with ellipsis. Full text remains accessible via:
      - Web: title attribute on badge element
      - iOS: accessibilityLabel on view
      - Android: contentDescription in semantics
  
  testID:
    type: string
    required: false
    default: undefined
    description: |
      Test identifier for automated testing. Platform-specific implementation:
      - Web: data-testid attribute
      - iOS: accessibilityIdentifier
      - Android: testTag in semantics

# Behavioral contracts moved to contracts.yaml
# Semantic components that inherit from this type primitive
semantic_variants:
  - name: Badge-Label-Status
    extends: Status-specific label badges with semantic colors
    status: planned
  - name: Badge-Label-Category
    extends: Category-specific label badges with custom styling
    status: planned

# Accessibility compliance
accessibility:
  wcag_level: AA
  compliance:
    - "1.3.1 Info and Relationships - Label text conveys meaning"
    - "1.4.3 Contrast (Minimum) - Text meets 4.5:1 contrast ratio"
    - "1.4.4 Resize Text - Scales with user font preferences"
    - "1.4.11 Non-text Contrast - Badge boundary visible"
  aria_attributes:
    - aria-hidden: "true"  # on icon only, badge text is readable
  platform_accessibility:
    web: "title attribute for truncated text, aria-hidden on icon"
    ios: "accessibilityLabel for full text, accessibilityHidden on icon"
    android: "contentDescription for full text, null contentDescription on icon"
