version: "1.0.0"
component: Input-Checkbox-Base
family: Input-Checkbox

contracts:
  interaction_focusable:
    category: interaction
    description: Can receive keyboard focus
    behavior: |
      Component can receive focus via Tab key navigation.
      Focus applies to the checkbox control element.
      Entire label area is part of the interactive target.
    wcag: "2.1.1 Keyboard"
    platforms: [web, ios, android]
    validation:
      - Tab key moves focus to checkbox
      - Focus state is visually indicated
    test_approach: |
      - Render checkbox in default state
      - Press Tab and verify checkbox receives focus
      - Verify focus indicator is visible
    required: true

  interaction_pressable:
    category: interaction
    description: Responds to click/tap on entire label area
    behavior: |
      Clicking or tapping anywhere on the checkbox or its label
      toggles the checked state. Enter and Space keys also toggle
      when the checkbox has focus.
    wcag: "2.1.1 Keyboard"
    platforms: [web, ios, android]
    validation:
      - Click on label toggles checked state
      - Click on checkbox toggles checked state
      - Enter key toggles checked state
      - Space key toggles checked state
    test_approach: |
      - Render checkbox unchecked
      - Click label and verify checkbox becomes checked
      - Press Space and verify checkbox toggles
    required: true

  interaction_hover:
    category: interaction
    description: Visual feedback on hover (web)
    behavior: |
      On desktop platforms, component shows visual feedback when
      mouse hovers over the checkbox or label area.
    wcag: "1.4.13 Content on Hover or Focus"
    platforms: [web]
    validation:
      - Visual change on mouse enter
      - Visual reverts on mouse leave
    test_approach: |
      - Render checkbox and simulate hover
      - Verify visual feedback is applied
    required: true

  interaction_pressed:
    category: interaction
    description: Visual feedback when pressed
    behavior: |
      Component shows visual feedback during active press/click
      on the checkbox or label area.
    wcag: "2.4.7 Focus Visible"
    platforms: [web, ios, android]
    validation:
      - Visual feedback shown during press
    test_approach: |
      - Simulate press and verify visual change
    required: true

  state_checked:
    category: state
    description: Shows checkmark icon when checked
    behavior: |
      When checked, the checkbox displays a checkmark icon inside
      the checkbox control via Icon-Base integration. Visual treatment
      changes to indicate the selected state.
    wcag: "1.4.1 Use of Color"
    platforms: [web, ios, android]
    validation:
      - Checkmark icon visible when checked
      - Visual treatment distinct from unchecked state
    test_approach: |
      - Toggle checkbox to checked
      - Verify checkmark icon is rendered
    required: true

  state_indeterminate:
    category: state
    description: Shows minus icon for partial selection
    behavior: |
      When indeterminate prop is true, checkbox displays a minus icon
      instead of checkmark. Visually overrides checked state.
      Used for parent checkboxes in tree selection patterns.
    wcag: "1.4.1 Use of Color"
    platforms: [web, ios, android]
    validation:
      - Minus icon visible when indeterminate
      - Indeterminate overrides checked visual
    test_approach: |
      - Set indeterminate=true
      - Verify minus icon is rendered
    required: true

  state_error:
    category: state
    description: Shows error border and message
    behavior: |
      When errorMessage prop is provided, checkbox shows error styling
      on the control border and displays the error message below.
    wcag: "3.3.1 Error Identification"
    platforms: [web, ios, android]
    validation:
      - Error border applied when errorMessage provided
      - Error message text displayed below checkbox
    test_approach: |
      - Render with errorMessage="Required"
      - Verify error border and message visible
    required: true

  interaction_focus_ring:
    category: interaction
    description: WCAG 2.4.7 focus visible indicator
    behavior: |
      When focused via keyboard, component displays a focus ring
      around the checkbox control. Uses :focus-visible (web) for
      keyboard-only focus indication.
    wcag: "2.4.7 Focus Visible"
    platforms: [web, ios, android]
    validation:
      - Focus ring appears on keyboard focus
      - Focus ring meets 3:1 contrast ratio
    test_approach: |
      - Tab to checkbox and verify focus ring visible
    required: true

  validation_form_integration:
    category: validation
    description: Native form submission and reset
    behavior: |
      Checkbox participates in native form submission.
      Value is included in form data when checked.
      Form reset returns checkbox to initial state.
    wcag: "4.1.2 Name, Role, Value"
    platforms: [web, ios, android]
    validation:
      - Checked checkbox value included in form submission
      - Unchecked checkbox value excluded from form submission
      - Form reset restores initial checked state
    test_approach: |
      - Place checkbox in form, check it, submit
      - Verify value in form data
      - Reset form and verify initial state restored
    required: true

excludes:
  state_disabled:
    reason: "If an action is unavailable, the component should not be rendered."
    category: state
    reference: "Input-Checkbox-Base README, DesignerPunk Philosophy"
