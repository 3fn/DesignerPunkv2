# Badge-Count-Base Component Schema
#
# Stemma System: Badge Family
# Component Type: Type Primitive (Count)
# Naming Convention: [Family]-[Type]-[Variant] = Badge-Count-Base
#
# This schema defines the behavioral contracts and properties for the
# Badge-Count-Base component, which serves as the type primitive
# for all count badge components in the Badge family.
#
# Rationale: Badge-Count-Base is a type primitive that provides count badge
# functionality for displaying numeric values like notification counts or
# quantities. It is read-only and non-interactive, designed for compact inline use.
# Semantic variants (like Badge-Count-Notification) inherit from this base.

name: Badge-Count-Base
type: type-primitive
family: Badge
version: "1.0.0"
readiness: production-ready

# Component description
description: |
  Type primitive count badge component for displaying numeric values like
  notification counts or quantities in a compact visual indicator.
  
  Key Characteristics:
  - Read-only: Display-only, no click/tap behavior
  - Non-interactive: Not focusable, not in tab order
  - Compact: Small footprint, designed for inline use
  - Informational: Conveys numeric status at a glance
  
  Badge-Count-Base supports three size variants (sm, md, lg), automatic shape
  adaptation (circular for single digits, pill for multi-digit), max truncation
  (e.g., "99+"), and showZero behavior control.
  
  Shape Behavior:
  - Single digit (1-9): Circular shape (width equals height)
  - Multi-digit (10+): Pill shape with horizontal padding
  - Overflow (>max): Shows "[max]+" (e.g., "99+")

# Reusable behaviors this component implements
behaviors:
  - renderable
  - sizable
  - accessible-decorative
  - truncatable

# Component properties (public API)
properties:
  count:
    type: number
    required: true
    description: |
      Numeric value to display (required). The count to display inside the badge.
      Negative values are rendered as absolute value or 0.
      NaN values are rendered as 0.
  
  max:
    type: number
    required: false
    default: 99
    description: |
      Maximum before showing "[max]+". When count exceeds this value,
      displays "[max]+" (e.g., "99+"). If max is 0 or negative, uses default (99).
  
  showZero:
    type: boolean
    required: false
    default: false
    description: |
      Whether to show badge when count is 0.
      - false (default): Badge is not rendered when count is 0
      - true: Badge renders showing "0"
  
  size:
    type: "'sm' | 'md' | 'lg'"
    required: false
    default: "'md'"
    description: |
      Size variant determining typography and spacing tokens.
      - sm: typography.labelXs, space.inset.none (v), space.inset.050 (h), minWidth=16px
      - md: typography.labelSm, space.inset.none (v), space.inset.050 (h), minWidth=20px [DEFAULT]
      - lg: typography.labelMd, space.inset.050 (v), space.inset.100 (h), minWidth=24px
  
  testID:
    type: string
    required: false
    default: undefined
    description: |
      Test identifier for automated testing. Platform-specific implementation:
      - Web: data-testid attribute
      - iOS: accessibilityIdentifier
      - Android: testTag in semantics

# Behavioral contracts moved to contracts.yaml
# Semantic components that inherit from this type primitive
semantic_variants:
  - name: Badge-Count-Notification
    extends: Notification-specific count badges with semantic colors and live region announcements
    status: planned

# Accessibility compliance
accessibility:
  wcag_level: AA
  compliance:
    - "1.3.1 Info and Relationships - Count value conveys meaning"
    - "1.4.3 Contrast (Minimum) - Text meets 4.5:1 contrast ratio"
    - "1.4.4 Resize Text - Scales with user font preferences"
    - "1.4.11 Non-text Contrast - Badge boundary visible"
  aria_attributes: []
  platform_accessibility:
    web: "Count text readable by screen readers"
    ios: "Count accessible via VoiceOver"
    android: "Count accessible via TalkBack"
