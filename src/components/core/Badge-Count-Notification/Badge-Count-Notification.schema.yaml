# Badge-Count-Notification Component Schema
#
# Stemma System: Badge Family
# Component Type: Semantic Variant (inherits from Badge-Count-Base)
# Naming Convention: [Family]-[Type]-[Variant] = Badge-Count-Notification
#
# This schema defines the behavioral contracts and properties for the
# Badge-Count-Notification component, which extends Badge-Count-Base with
# notification-specific styling and live region announcements for screen readers.
#
# Rationale: Badge-Count-Notification is a semantic variant that provides
# notification count badge functionality with predefined colors and accessibility
# announcements. It inherits all Badge-Count-Base behavior and adds notification
# semantics, live region announcements, and pluralized announcement text.

name: Badge-Count-Notification
type: semantic
family: Badge
inherits: Badge-Count-Base
version: "1.0.0"
readiness: production-ready

# Component description
description: |
  Semantic variant notification count badge with predefined styling and live region
  announcements for screen readers. Extends Badge-Count-Base with notification-specific
  colors and accessibility features.
  
  Key Characteristics:
  - Inherits all Badge-Count-Base behavior (count display, max truncation, showZero)
  - Fixed notification colors (pink400 background, white100 text)
  - Live region announcements for accessibility
  - Pluralized announcement text ("1 notification", "5 notifications")
  - Optional announceChanges prop (default: true)
  
  Fixed Colors (not configurable):
  - Background: color.badge.background.notification (pink400 #CC2257)
  - Text: color.badge.text.notification (white100 #FFFFFF)
  - Contrast Ratio: 6.33:1 (exceeds WCAG AA 4.5:1)

# Reusable behaviors this component implements
# Note: Inherits all behaviors from Badge-Count-Base
behaviors:
  # Inherited from Badge-Count-Base (for reference)
  # - renderable
  # - sizable
  # - accessible-decorative
  # - truncatable
  # Extended behaviors
  - live-region-announcements
  - notification-semantics

# Component properties (public API)
# Note: Inherits all properties from Badge-Count-Base
properties:
  # Inherited properties are available but not redefined here
  # See Badge-Count-Base.schema.yaml for inherited properties:
  # - count (required): Numeric value to display
  # - max (default: 99): Maximum before showing "[max]+"
  # - showZero (default: false): Whether to show badge when count is 0
  # - size (default: 'md'): Size variant ('sm' | 'md' | 'lg')
  # - testID: Test identifier
  
  # Extended properties (unique to this variant)
  announceChanges:
    type: boolean
    required: false
    default: true
    description: |
      Whether to announce count changes to screen readers.
      
      When true (default), count changes are announced via live regions:
      - Web: aria-live="polite", aria-atomic="true", visually hidden text
      - iOS: .accessibilityAddTraits(.updatesFrequently), UIAccessibility.post(notification:)
      - Android: LiveRegionMode.Polite, announceForAccessibility()
      
      When false, count changes are not announced. Use this when:
      - Parent component handles announcements
      - Frequent updates would be disruptive
      - Badge is in a context where announcements are redundant

# Behavioral contracts moved to contracts.yaml
# Accessibility compliance
accessibility:
  wcag_level: AA
  compliance:
    # Inherited from Badge-Count-Base
    - "1.3.1 Info and Relationships - Count value conveys meaning"
    - "1.4.3 Contrast (Minimum) - Text meets 6.33:1 contrast ratio"
    - "1.4.4 Resize Text - Scales with user font preferences"
    - "1.4.11 Non-text Contrast - Badge boundary visible"
    # Extended for notification variant
    - "4.1.3 Status Messages - Live region announcements for count changes"
  aria_attributes:
    - aria-live="polite"
    - aria-atomic="true"
  platform_accessibility:
    web: "Live region with aria-live='polite' announces count changes"
    ios: "UIAccessibility.post(notification:) announces count changes"
    android: "LiveRegionMode.Polite with announceForAccessibility()"

