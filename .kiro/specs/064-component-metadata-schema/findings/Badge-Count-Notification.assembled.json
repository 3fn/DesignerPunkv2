{
  "name": "Badge-Count-Notification",
  "type": "semantic",
  "family": "Badge",
  "version": "1.0.0",
  "readiness": "production-ready",
  "description": "Semantic variant notification count badge with predefined styling and live region\nannouncements for screen readers. Extends Badge-Count-Base with notification-specific\ncolors and accessibility features.\n\nKey Characteristics:\n- Inherits all Badge-Count-Base behavior (count display, max truncation, showZero)\n- Fixed notification colors (pink400 background, white100 text)\n- Live region announcements for accessibility\n- Pluralized announcement text (\"1 notification\", \"5 notifications\")\n- Optional announceChanges prop (default: true)\n\nFixed Colors (not configurable):\n- Background: color.badge.background.notification (pink400 #CC2257)\n- Text: color.badge.text.notification (white100 #FFFFFF)\n- Contrast Ratio: 6.33:1 (exceeds WCAG AA 4.5:1)",
  "platforms": [
    "web",
    "ios",
    "android"
  ],
  "properties": {
    "announceChanges": {
      "type": "boolean",
      "description": "Whether to announce count changes to screen readers.\n\nWhen true (default), count changes are announced via live regions:\n- Web: aria-live=\"polite\", aria-atomic=\"true\", visually hidden text\n- iOS: .accessibilityAddTraits(.updatesFrequently), UIAccessibility.post(notification:)\n- Android: LiveRegionMode.Polite, announceForAccessibility()\n\nWhen false, count changes are not announced. Use this when:\n- Parent component handles announcements\n- Frequent updates would be disruptive\n- Badge is in a context where announcements are redundant\n",
      "default": true,
      "required": false
    }
  },
  "tokens": [],
  "composition": null,
  "contracts": {
    "inheritsFrom": "Badge-Count-Base",
    "active": {
      "content_displays_count": {
        "category": "content",
        "description": "Shows numeric value",
        "behavior": "Badge-Count-Base renders the provided count value visibly within the badge.\nText uses typography tokens based on size variant:\n- sm: typography.labelXs (13px, medium weight, 1.538 line-height)\n- md: typography.labelSm (14px, medium weight, 1.429 line-height)\n- lg: typography.labelMd (16px, medium weight, 1.5 line-height)\nText color uses color.text.default token for consistent theming.\nCount is displayed as-is unless it exceeds max value.",
        "wcag": "1.3.1 Info and Relationships",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Count value is visible in the rendered badge",
          "Typography matches size variant specification",
          "Text color uses design token, not hardcoded value",
          "Font weight is medium (500)"
        ],
        "required": true,
        "source": "inherited"
      },
      "content_truncates_at_max": {
        "category": "content",
        "description": "Shows \"[max]+\" when count exceeds max",
        "behavior": "When count exceeds the max value (default: 99), displays \"[max]+\"\ninstead of the actual count. Examples:\n- count=100, max=99 → \"99+\"\n- count=50, max=99 → \"50\"\n- count=99, max=99 → \"99\" (exact match shows value)",
        "wcag": "1.3.1 Info and Relationships",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Count at or below max displays exact value",
          "Count above max displays \"[max]+\"",
          "Plus sign (+) appears after max value",
          "Custom max values are respected"
        ],
        "required": true,
        "source": "inherited"
      },
      "visual_circular_shape": {
        "category": "visual",
        "description": "Renders circular for single-digit counts",
        "behavior": "When displaying a single digit (1-9), renders as a circle by setting\nmin-width equal to line-height:\n- sm: 16px (line-height-050)\n- md: 20px (line-height-075)\n- lg: 24px (line-height-100)\nCombined with radiusHalf (50%), creates a perfect circle.\nZero (0) also renders as circular when showZero=true.",
        "wcag": null,
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Single-digit counts render as circular shape",
          "Width equals height for single digits",
          "Text is centered within the circle",
          "radiusHalf (50%) applied for circular appearance"
        ],
        "required": true,
        "source": "inherited"
      },
      "visual_pill_shape": {
        "category": "visual",
        "description": "Renders pill shape for multi-digit counts",
        "behavior": "When displaying multi-digit counts (10+) or overflow text (\"99+\"),\nexpands horizontally with padding to create a pill shape.\nradiusHalf (50%) creates rounded ends. Shape transitions:\n- 1-9: Circular (width = height)\n- 10-99: Pill (width > height)\n- 100+ (or >max): Pill with \"[max]+\" text",
        "wcag": null,
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Multi-digit counts render as pill shape",
          "Width exceeds height for multi-digit counts",
          "Rounded ends maintained via radiusHalf",
          "Horizontal padding applied"
        ],
        "required": true,
        "source": "inherited"
      },
      "accessibility_non_interactive": {
        "category": "accessibility",
        "description": "Does not respond to user interaction",
        "behavior": "Badge-Count-Base is read-only and non-interactive:\n- Not focusable via keyboard navigation (no tabindex)\n- Does not respond to click, tap, or keyboard events\n- No hover or press visual feedback\n- pointer-events: none (web)\n- No gesture handlers (native)",
        "wcag": null,
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Badge cannot receive keyboard focus",
          "Click/tap events do not trigger any action",
          "No visual feedback on hover or press",
          "Badge is not in accessibility focus order",
          "pointer-events is none (web)"
        ],
        "required": true,
        "source": "inherited"
      },
      "accessibility_color_contrast": {
        "category": "accessibility",
        "description": "Meets WCAG AA contrast requirements (4.5:1)",
        "behavior": "Uses design tokens ensuring WCAG AA compliance:\n- Text color (color.text.default) on background (color.surface)\n- Contrast ratio meets or exceeds 4.5:1 for normal text\nHigh contrast mode support via CSS media query (web).",
        "wcag": "1.4.3 Contrast (Minimum)",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Text/background contrast ratio >= 4.5:1",
          "Colors use design tokens, not hardcoded values",
          "High contrast mode applies border for visibility (web)"
        ],
        "required": true,
        "source": "inherited"
      },
      "accessibility_text_scaling": {
        "category": "accessibility",
        "description": "Scales proportionally with user font size preferences",
        "behavior": "Respects user font size preferences:\n- Web: Uses relative units (rem-based tokens) that scale with root font size\n- iOS: Respects Dynamic Type settings\n- Android: Respects system font scale settings\nBadge dimensions scale proportionally without content clipping.",
        "wcag": "1.4.4 Resize Text",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Badge scales when user increases system font size to 200%",
          "Content remains visible without clipping",
          "Layout maintains integrity at larger sizes"
        ],
        "required": true,
        "source": "inherited"
      },
      "visual_notification_color": {
        "category": "visual",
        "description": "Conveys notification/alert meaning through color",
        "behavior": "Uses fixed notification colors conveying urgency:\n- Background: color.badge.background.notification (pink400 #CC2257)\n- Text: color.badge.text.notification (white100 #FFFFFF)\nColors are not configurable by consumers. Contrast ratio: 6.33:1\n(exceeds WCAG AA 4.5:1 minimum).",
        "wcag": "1.3.1 Info and Relationships",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Background color is pink400 (#CC2257)",
          "Text color is white100 (#FFFFFF)",
          "Colors are not configurable via props",
          "Contrast ratio meets WCAG AA (4.5:1)"
        ],
        "required": true,
        "source": "own"
      },
      "accessibility_announces_changes": {
        "category": "accessibility",
        "description": "Announces count changes to screen readers when enabled",
        "behavior": "When announceChanges is true (default), announces count changes via\nplatform-specific live region implementations:\n- Web: aria-live=\"polite\", aria-atomic=\"true\"\n- iOS: .accessibilityAddTraits(.updatesFrequently)\n- Android: LiveRegionMode.Polite\nConditions: announceChanges=true, previous count exists, count changed.\nWhen announceChanges=false, no live region attributes applied.",
        "wcag": "4.1.3 Status Messages",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "Live region attributes present when announceChanges=true",
          "aria-live=\"polite\" on web when announceChanges=true",
          "aria-atomic=\"true\" on web when announceChanges=true",
          "Announcements occur on count changes",
          "No announcements on initial render",
          "No announcements when announceChanges=false"
        ],
        "required": true,
        "source": "own"
      },
      "accessibility_pluralized_announcements": {
        "category": "accessibility",
        "description": "Uses correct pluralization in announcements",
        "behavior": "Uses grammatically correct pluralization in screen reader announcements:\n- count=1: \"1 notification\" (singular)\n- count>1: \"[count] notifications\" (plural)\n- count>max: \"[max] or more notifications\"\n- count=0 (showZero=true): \"0 notifications\"",
        "wcag": "4.1.3 Status Messages",
        "platforms": [
          "web",
          "ios",
          "android"
        ],
        "validation": [
          "count=1 announces \"1 notification\" (singular)",
          "count=5 announces \"5 notifications\" (plural)",
          "count=100 with max=99 announces \"99 or more notifications\"",
          "count=0 announces \"0 notifications\" (plural)"
        ],
        "required": true,
        "source": "own"
      }
    },
    "excluded": {
      "interaction_focusable": {
        "reason": "Badges are visual indicators, not interactive elements.",
        "category": "interaction",
        "reference": "062 audit intentional-exclusions.md"
      },
      "interaction_pressable": {
        "reason": "Badges are visual indicators, not interactive elements.",
        "category": "interaction",
        "reference": "062 audit intentional-exclusions.md"
      },
      "interaction_hover": {
        "reason": "Badges are visual indicators — no hover feedback expected.",
        "category": "interaction",
        "reference": "062 audit intentional-exclusions.md"
      },
      "interaction_pressed": {
        "reason": "Badges are visual indicators — no press feedback expected.",
        "category": "interaction",
        "reference": "062 audit intentional-exclusions.md"
      }
    },
    "own": [
      "visual_notification_color",
      "accessibility_announces_changes",
      "accessibility_pluralized_announcements"
    ],
    "inherited": [
      "content_displays_count",
      "content_truncates_at_max",
      "visual_circular_shape",
      "visual_pill_shape",
      "accessibility_non_interactive",
      "accessibility_color_contrast",
      "accessibility_text_scaling"
    ]
  },
  "annotations": {
    "purpose": "Display a notification-specific count badge with semantic color and live region announcements for screen readers.",
    "usage": {
      "whenToUse": [
        "Notification counts that need urgent visual treatment (semantic color)",
        "Counts that must announce updates to assistive technology via live regions"
      ],
      "whenNotToUse": [
        "Generic numeric counts without notification semantics — use Badge-Count-Base",
        "Text-based status indicators — use Badge-Label-Base"
      ]
    },
    "contexts": [
      "notification-bells",
      "inbox-indicators",
      "app-bars",
      "navigation-tabs"
    ],
    "alternatives": [
      {
        "component": "Badge-Count-Base",
        "reason": "When the count is informational without notification urgency"
      },
      {
        "component": "Badge-Label-Base",
        "reason": "When the indicator shows text labels instead of numbers"
      }
    ]
  },
  "contractTokenRelationships": {
    "resolved": [],
    "gaps": [
      {
        "contract": "accessibility_color_contrast",
        "referencedToken": "color.text.default",
        "category": "accessibility"
      },
      {
        "contract": "accessibility_color_contrast",
        "referencedToken": "color.surface",
        "category": "accessibility"
      }
    ]
  },
  "indexedAt": "2026-02-28T21:37:29.661Z",
  "warnings": []
}
